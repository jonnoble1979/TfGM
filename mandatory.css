
/* Put these near your .mandatory block so they’re easy to adjust */
:where(p).mandatory {
  /* SIZE + GAP knobs */
  --mandy-icon-size: 2.2em;   /* ↓ try 2.0em if you want it smaller */
  --mandy-gap: .22rem;        /* space between triangle and label */

  /* COLOR knobs */
  --mandy-accent: var(--accent-end, #2563eb);   /* label + triangle color */
  --mandy-bg-current: var(--mandy-bg, transparent); /* used for the “!” */
}

/* Ensure the ‘!’ knockout follows your hover background too */
:where(p).mandatory:hover,
:where(p).mandatory:focus-within {
  --mandy-bg-current: var(--mandy-bg-hover, var(--mandy-bg, transparent));
}

/* Keep your actual paragraph content in column 2 (unchanged) */
:where(p).mandatory > * { grid-column: 2; }

/* Both pseudos live in the SAME grid cell so they stay together on the left */
:where(p).mandatory::before,
:where(p).mandatory::after {
  grid-column: 1;
  grid-row: 1;
  justify-self: center;
  align-self: start;
  pointer-events: none; /* never block hover on the paragraph */
}

/* ICON = triangle in accent color, “!” knocked out to match background */
:where(p).mandatory::before {
  content: "";
  width: var(--mandy-icon-size);
  height: var(--mandy-icon-size);

  /* Triangle fill is the same as the label color */
  background-color: var(--mandy-accent);

  /* Draw the “!” as two layers in the paragraph’s background color */
  background-image:
    /* bar of the exclamation mark */
    linear-gradient(var(--mandy-bg-current), var(--mandy-bg-current)),
    /* dot of the exclamation mark */
    radial-gradient(circle, var(--mandy-bg-current) 60%, transparent 61%);
  background-repeat: no-repeat;
  background-size:
    12% 46%,   /* bar: width × height */
    12% 12%;   /* dot: diameter × diameter */
  background-position:
    50% 42%,   /* bar: centered, ~42% from top */
    50% 82%;   /* dot: centered, near bottom */

  /* Shape the square into a triangle */
  clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
}

/* LABEL = “Mandatory”, shifted down by the icon height + gap */
:where(p).mandatory::after {
  content: "Mandatory";  /* no uppercase */
  display: block;
  text-align: center;
  color: var(--mandy-accent);
  font-weight: 700;
  font-size: .8em;
  line-height: 1.1;
  letter-spacing: .01em;

  /* Translate instead of margins so it ALWAYS sits below the triangle */
  transform: translateY(calc(var(--mandy-icon-size) + var(--mandy-gap)));
  z-index: 1; /* make sure it renders over the icon if they overlap */
}
