
/* =========================
   Mandatory paragraph badge
   ========================= */

:root {
  /* Accent for triangle + label */
  --mandy-accent: #2563eb;

  /* Triangle size + gap to label */
  --mandy-icon-size: 2.2em;   /* try 2.0–2.4em */
  --mandy-gap: 0.5rem;        /* increase for more space */

  /* Base frame */
  --mandy-border: rgba(37, 99, 235, .30);
  --mandy-bg:     rgba(37, 99, 235, .04);

  /* Hover frame (make these a bit stronger so it’s obvious) */
  --mandy-border-hover: rgba(37, 99, 235, .55);
  --mandy-bg-hover:     rgba(37, 99, 235, .12);

  /* Optional ring (subtle) */
  --mandy-ring: rgba(37, 99, 235, .18);
}

/* --- Mandatory paragraph container --- */
:where(p).mandatory {
  /* Layout: [badge] [text] */
  display: grid;
  grid-template-columns: max-content 1fr;
  align-items: start;
  column-gap: .6rem;

  /* Subtle frame (not buttony) */
  padding: 8px 12px;
  border: 1px solid var(--mandy-border);
  border-radius: 8px;
  background: var(--mandy-bg);

  /* Smooth transitions, include shadow if you enable it */
  transition: background-color .18s ease, border-color .18s ease, box-shadow .18s ease;
}

/* Make hover/focus clearly visible */
:where(p).mandatory:is(:hover, :focus-within) {
  background: var(--mandy-bg-hover);
  border-color: var(--mandy-border-hover);

  /* Optional: uncomment for a soft focus ring (still not “buttony”) */
  /* box-shadow: 0 0 0 3px var(--mandy-ring); */
}

/* Keep actual text content in column 2 */
:where(p).mandatory > * {
  grid-column: 2;
}

/* Badge parts share the same grid cell so they stay together on the left */
:where(p).mandatory::before,
:where(p).mandatory::after {
  grid-column: 1;
  grid-row: 1;
  justify-self: center;
  align-self: start;
  pointer-events: none; /* never block paragraph hover */
}

/* ICON = triangle in accent color, smaller white “!” */
:where(p).mandatory::before {
  content: "";
  width: var(--mandy-icon-size);
  height: var(--mandy-icon-size);
  background-color: var(--mandy-accent);

  /* smaller/cleaner “!” using two layers */
  background-image:
    linear-gradient(#fff, #fff),                     /* bar */
    radial-gradient(circle, #fff 60%, transparent);  /* dot */
  background-repeat: no-repeat;

  /* Tweak these to adjust “!” thickness/size */
  background-size:
    8% 40%,   /* bar: width × height (make first value smaller for thinner) */
    8% 8%;    /* dot: diameter */

  /* Centered positions with good vertical placement */
  background-position:
    50% 40%,  /* bar */
    50% 78%;  /* dot */

  /* Make it a triangle */
  clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
}

/* LABEL = “Mandatory” below triangle with a clear gap */
:where(p).mandatory::after {
  content: "Mandatory";        /* no uppercase */
  display: block;
  text-align: center;
  color: var(--mandy-accent);
  font-weight: 700;
  font-size: .8em;
  line-height: 1.1;
  letter-spacing: .01em;

  /* Guaranteed spacing: triangle height + explicit gap */
  padding-top: calc(var(--mandy-icon-size) + var(--mandy-gap));
  z-index: 1; /* ensure label always paints above the icon if close */
}

/* Respect reduced‑motion preferences */
@media (prefers-reduced-motion: reduce) {
  :where(p).mandatory {
    transition: none;
  }
}


.mandatory a[href^="mailto:"] {
    display: inline;           /* override block display */
    white-space: nowrap;       /* keep email on one line */
    color: var(--link-color);
    text-decoration: underline;
}

