<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revised Seamless Arrow Tab Navigation</title>
    <style>
        /* CSS Variables for easy color/size changes */
        :root {
            --segment-color: #1a759f;
            --hover-color: #166084;
            --active-color: #004d73;
            --arrow-width: 15px; /* Controls the size of the point */
            --border-radius: 4px; /* For the start/end points */
            --segment-height: 40px;
        }

        /* General Styling */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }

        /* Navigation List Styling */
        .arrow-nav {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex; /* Align items horizontally */
            width: fit-content;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Individual Tab Styling */
        .arrow-nav li {
            position: relative;
            display: flex;
            align-items: center; /* Vertically center the text */
            background-color: var(--segment-color);
            color: white;
            padding: 0 20px 0 20px;
            /* Overlap is key to hiding the transition line */
            margin-right: calc(-1 * var(--arrow-width) + 1px); 
            height: var(--segment-height);
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
            text-align: center;
            z-index: 1; /* Ensures text is on top */

            /* =================================================== */
            /* The Key Change: Using clip-path for the arrow shape */
            /* This defines a pentagon shape for every item */
            /* (0,0) -> (100%-15px, 0) -> (100%, 50%) -> (100%-15px, 100%) -> (0, 100%) */
            clip-path: polygon(
                0 0, 
                calc(100% - var(--arrow-width)) 0, 
                100% 50%, 
                calc(100% - var(--arrow-width)) 100%, 
                0 100%
            );
            /* =================================================== */
        }

        /* Hover Effect */
        .arrow-nav li:hover {
            background-color: var(--hover-color);
            z-index: 2; /* Bring the hovered item slightly forward */
        }
        
        /* Active Tab Styling */
        .arrow-nav li.active {
            background-color: var(--active-color); 
            z-index: 3; /* Highest priority for active state */
        }

        /* Fix the First Segment (Flat Left Edge) */
        .arrow-nav li:first-child {
            border-top-left-radius: var(--border-radius);
            border-bottom-left-radius: var(--border-radius);
            /* Adjust clip-path for the first item to have a flat left side */
            clip-path: polygon(
                0 0, 
                calc(100% - var(--arrow-width)) 0, 
                100% 50%, 
                calc(100% - var(--arrow-width)) 100%, 
                0 100%
            );
        }

        /* Fix the Last Segment (Flat Right Edge) */
        .arrow-nav li:last-child {
            /* Remove the negative margin so it sits flat */
            margin-right: 0; 
            border-top-right-radius: var(--border-radius);
            border-bottom-right-radius: var(--border-radius);
            /* Adjust clip-path for the last item to have a flat right side */
            clip-path: polygon(
                0 0, 
                100% 0, 
                100% 100%, 
                0 100%, 
                var(--arrow-width) 50%
            );
            /* Adjust padding to account for the inward point on the left */
            padding-left: 30px; 
        }

        /* Adjust the point on the left of the last segment on hover/active */
        .arrow-nav li:last-child:hover {
            background-color: var(--hover-color);
        }
        .arrow-nav li:last-child.active {
            background-color: var(--active-color);
        }
    </style>
</head>
<body>

<ul class="arrow-nav">
    <li class="tab-step active" onclick="activateTab(this)">Step 1: Planning</li>
    <li class="tab-step" onclick="activateTab(this)">Step 2: Execution</li>
    <li class="tab-step" onclick="activateTab(this)">Step 3: Review</li>
    <li class="tab-step" onclick="activateTab(this)">Final Result</li>
</ul>

<script>
    // Simple JavaScript to handle an 'active' state for demonstration
    function activateTab(element) {
        const tabs = document.querySelectorAll('.tab-step');
        tabs.forEach(tab => tab.classList.remove('active'));
        element.classList.add('active');
    }
</script>

</body>
</html>
