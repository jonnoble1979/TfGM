<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfected Seamless Arrow Tab Navigation</title>
    <style>
        /* CSS Variables for easy color/size changes */
        :root {
            --segment-color: #1a759f;
            --hover-color: #166084;
            --active-color: #004d73;
            --arrow-width: 15px; /* Controls the size of the point */
            --segment-height: 40px;
        }

        /* General Styling */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }

        /* Navigation List Styling */
        .arrow-nav {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex; /* Align items horizontally */
            width: fit-content;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Base Tab Styling */
        .arrow-nav li {
            position: relative;
            display: flex;
            align-items: center; /* Vertically center the text */
            background-color: var(--segment-color);
            color: white;
            padding: 0 20px;
            
            /* Overlap the next segment by almost the arrow width */
            margin-right: calc(-1 * var(--arrow-width) + 2px); 
            height: var(--segment-height);
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s, z-index 0s;
            text-align: center;
            z-index: 1; /* Ensures text is on top */
        }
        
        /* Hover and Active State */
        .arrow-nav li:hover {
            background-color: var(--hover-color);
            z-index: 2; /* Bring the hovered item slightly forward */
        }
        .arrow-nav li.active {
            background-color: var(--active-color); 
            z-index: 3; /* Highest priority for active state */
        }

        /* ---------------------------------------------------- */
        /* 1. First Segment (Flat Start, Arrow End) */
        /* ---------------------------------------------------- */
        .arrow-nav li:first-child {
            border-top-left-radius: 4px;
            border-bottom-left-radius: 4px;
            /* Flat left side, arrow point on right */
            clip-path: polygon(
                0 0, 
                calc(100% - var(--arrow-width)) 0, 
                100% 50%, 
                calc(100% - var(--arrow-width)) 100%, 
                0 100%
            );
        }

        /* ---------------------------------------------------- */
        /* 2. Middle Segments (Arrow Start, Arrow End) */
        /* ---------------------------------------------------- */
        .arrow-nav li:not(:first-child):not(:last-child) {
            /* V-shape on left, arrow point on right */
            clip-path: polygon(
                var(--arrow-width) 0, 
                calc(100% - var(--arrow-width)) 0, 
                100% 50%, 
                calc(100% - var(--arrow-width)) 100%, 
                var(--arrow-width) 100%, 
                0 50%
            );
            /* Add padding on the left to move text past the V-cut */
            padding-left: 30px;
        }

        /* ---------------------------------------------------- */
        /* 3. Last Segment (Arrow Start, Flat End) */
        /* ---------------------------------------------------- */
        .arrow-nav li:last-child {
            /* Remove negative margin */
            margin-right: 0; 
            border-top-right-radius: 4px;
            border-bottom-right-radius: 4px;
            /* V-shape on left, flat right side */
            clip-path: polygon(
                var(--arrow-width) 0, 
                100% 0, 
                100% 100%, 
                var(--arrow-width) 100%, 
                0 50%
            );
            /* Add padding on the left to move text past the V-cut */
            padding-left: 30px; 
            /* Add padding on the right to match width of other segments */
            padding-right: 20px; 
        }
    </style>
</head>
<body>

<ul class="arrow-nav">
    <li class="tab-step" onclick="activateTab(this)">Step 1: Planning</li>
    <li class="tab-step active" onclick="activateTab(this)">Step 2: Execution</li>
    <li class="tab-step" onclick="activateTab(this)">Step 3: Review</li>
    <li class="tab-step" onclick="activateTab(this)">Final Result</li>
</ul>

<script>
    // Simple JavaScript to handle an 'active' state for demonstration
    function activateTab(element) {
        const tabs = document.querySelectorAll('.tab-step');
        tabs.forEach(tab => tab.classList.remove('active'));
        element.classList.add('active');
    }
</script>

</body>
</html>
