/* =========================
   Mandatory paragraph badge (P TAGS)
   ========================= */

:root {
  /* Accent for triangle + label: Rename and point to theme blue */
  --mandy-accent: var(--brand-blue); 

  /* Triangle size + gap to label */
  --mandy-icon-size: 2.2em;      
  --mandy-gap: 0.5rem;           
}

/* --- Mandatory paragraph container (P TAGS) --- */
:where(p).mandatory { 
  /* Layout: [badge] [text] */
  display: grid;
  grid-template-columns: max-content 1fr;
  align-items: start;
  column-gap: .6rem;

  /* Subtle frame (using variables from styles.css) */
  padding: 8px 12px;
  border: 1px solid var(--mandy-border);
  border-radius: 8px;
  background: var(--mandy-bg);

  /* Set default block margin for the p tag */
  margin: 1em 0; 

  /* Smooth transitions, include shadow if you enable it */
  transition: background-color .18s ease, border-color .18s ease, box-shadow .18s ease;
}

/* Make hover/focus clearly visible (using variables from styles.css) */
:where(p).mandatory:is(:hover, :focus-within) {
  background: var(--mandy-bg-hover);
  border-color: var(--mandy-border-hover);
}

/* CORE: FORCING ALL DIRECT CHILDREN TO COLUMN 2 (P TAGS) */
:where(p).mandatory > * {
    grid-column: 2; 
    margin-top: 0;
}


/* Badge parts share the same grid cell so they stay together on the left (P TAGS)*/
:where(p).mandatory::before,
:where(p).mandatory::after {
  grid-column: 1;
  grid-row: 1;
  justify-self: center;
  align-self: start;
  pointer-events: none; 
}

/* ICON = triangle in accent color, smaller white “!” (P TAGS)*/
:where(p).mandatory::before {
  content: "";
  width: var(--mandy-icon-size);
  height: var(--mandy-icon-size);
  background-color: var(--mandy-accent); 

  /* smaller/cleaner “!” using two layers */
  background-image:
    linear-gradient(var(--color-white), var(--color-white)),             
    radial-gradient(circle, var(--color-white) 60%, transparent); 
  background-repeat: no-repeat;

  /* Tweak these to adjust “!” thickness/size */
  background-size:
    8% 40%,    
    8% 8%;     

  /* Centered positions with good vertical placement */
  background-position:
    50% 40%,  
    50% 78%;  

  /* Make it a triangle */
  clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
}

/* LABEL = “Mandatory” below triangle with a clear gap (P TAGS)*/
:where(p).mandatory::after {
  content: "Mandatory";          
  display: block;
  text-align: center;
  color: var(--mandy-accent); 
  font-weight: 700;
  font-size: .8em;
  line-height: 1.1;
  letter-spacing: .01em;

  /* Guaranteed spacing: triangle height + explicit gap */
  padding-top: calc(var(--mandy-icon-size) + var(--mandy-gap));
  z-index: 1; 
}

/* LIST FIX: Only target the lists, overriding global margin/padding. (P TAGS)*/
:where(p).mandatory ul,
:where(p).mandatory ol {
    margin: 0.5em 0 1em 0; 
    padding-left: 0; 
    list-style-position: inside; 
}

/* Final list padding to create indent (P TAGS)*/
:where(p).mandatory ul,
:where(p).mandatory ol {
    padding-left: 1.5em; 
}

/* Ensure list items follow standard styles (P TAGS)*/
:where(p).mandatory ul li,
:where(p).mandatory ol li {
    margin-bottom: 0.6em;
    padding-left: 0; 
}


/* =======================================
   Mandatory container (DIV TAGS - THE FIX)
   ======================================= */

/* --- Mandatory container (DIV TAGS) --- */
.mandatoryDiv { 
  /* Layout: [badge] [text] */
  display: grid;
  grid-template-columns: max-content 1fr;
  align-items: start;
  column-gap: .6rem;

  /* Subtle frame (using variables from styles.css) */
  padding: 8px 12px;
  border: 1px solid var(--mandy-border);
  border-radius: 8px;
  background: var(--mandy-bg);

  /* Set default block margin for the div */
  margin: 1em 0; 

  /* Smooth transitions, include shadow if you enable it */
  transition: background-color .18s ease, border-color .18s ease, box-shadow .18s ease;
}

/* Make hover/focus clearly visible (DIV TAGS) */
.mandatoryDiv:is(:hover, :focus-within) {
  background: var(--mandy-bg-hover);
  border-color: var(--mandy-border-hover);
}

/* CORE: FORCING ALL DIRECT CHILDREN TO COLUMN 2 (DIV TAGS) */
.mandatoryDiv > * {
    grid-column: 2; 
    margin-top: 0;
}


/* Badge parts share the same grid cell so they stay together on the left (DIV TAGS)*/
.mandatoryDiv::before,
.mandatoryDiv::after {
  grid-column: 1;
  grid-row: 1;
  justify-self: center;
  align-self: start;
  pointer-events: none; 
}

/* ICON = triangle in accent color, smaller white “!” (DIV TAGS)*/
.mandatoryDiv::before {
  content: "";
  width: var(--mandy-icon-size);
  height: var(--mandy-icon-size);
  background-color: var(--mandy-accent); 

  /* smaller/cleaner “!” using two layers */
  background-image:
    linear-gradient(var(--color-white), var(--color-white)),             
    radial-gradient(circle, var(--color-white) 60%, transparent); 
  background-repeat: no-repeat;

  /* Tweak these to adjust “!” thickness/size */
  background-size:
    8% 40%,    
    8% 8%;     

  /* Centered positions with good vertical placement */
  background-position:
    50% 40%,  
    50% 78%;  

  /* Make it a triangle */
  clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
}

/* LABEL = “Mandatory” below triangle with a clear gap (DIV TAGS)*/
.mandatoryDiv::after {
  content: "Mandatory";          
  display: block;
  text-align: center;
  color: var(--mandy-accent); 
  font-weight: 700;
  font-size: .8em;
  line-height: 1.1;
  letter-spacing: .01em;

  /* Guaranteed spacing: triangle height + explicit gap */
  padding-top: calc(var(--mandy-icon-size) + var(--mandy-gap));
  z-index: 1; 
}

/* LIST FIX: Only target the lists, overriding global margin/padding. (DIV TAGS)*/
.mandatoryDiv ul,
.mandatoryDiv ol {
    margin: 0.5em 0 1em 0; 
    padding-left: 0; 
    list-style-position: inside; 
}

/* Final list padding to create indent (DIV TAGS)*/
.mandatoryDiv ul,
.mandatoryDiv ol {
    padding-left: 1.5em; 
}

/* Ensure list items follow standard styles (DIV TAGS)*/
.mandatoryDiv ul li,
.mandatoryDiv ol li {
    margin-bottom: 0.6em;
    padding-left: 0; 
}


/* --- Other Styles (Shared) --- */

/* Respect reduced‑motion preferences */
@media (prefers-reduced-motion: reduce) {
  :where(p).mandatory, .mandatoryDiv {
    transition: none;
  }
}

/* Ensure all real content lives in column 2 as a single item */
.mandatory__content {
  grid-column: 2;
}

/* Keep email inline & unbroken */
.mandatory a[href^="mailto:"] {
  display: inline;
  white-space: nowrap;
  color: var(--link-color);
  text-decoration: underline;
}
