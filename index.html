<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greater Manchester Road Safety Audit (RSA) Procedure</title>
    <!-- Link to the separate CSS file -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Top Navigation Bar -->
    <nav id="top-nav">
        <!-- Main Links calling showPage(pageId) -->
        <a href="#" onclick="showPage('home')" data-page-id="home">Home</a>
        <a href="#" onclick="showPage('advice')" data-page-id="advice">Obtain Road Safety Advice</a>
        <a href="#" onclick="showPage('overview')" data-page-id="overview">Overview Road Safety Audits</a>

        <!-- Procedure Dropdown -->
        <div class="dropdown">
            <button class="dropbtn">Procedure <i class="arrow-down"></i></button>
            <div class="dropdown-content">
                <!-- Dropdown Links calling showPage(pageId) -->
                <a href="#" onclick="showPage('responsibilities')" data-page-id="responsibilities">Responsibilities</a>
                <a href="#" onclick="showPage('applicability')" data-page-id="applicability">Applicability of RSA</a>
                <a href="#" onclick="showPage('team-requirements')" data-page-id="team-requirements">RSA Team Requirements</a>
                <a href="#" onclick="showPage('audit-brief')" data-page-id="audit-brief">Audit Brief</a>
                <a href="#" onclick="showPage('rsa-stages')" data-page-id="rsa-stages">RSA Stages</a>
                <a href="#" onclick="showPage('response-report')" data-page-id="response-report">Response Report</a>
                <a href="#" onclick="showPage('rsa-checklist')" data-page-id="rsa-checklist">RSA Checklist</a>
            </div>
        </div>
        <a href="#" onclick="showPage('downloads')" data-page-id="downloads">Downloads</a>
    </nav>

    <!-- Main Application Container -->
    <div class="main-container">

        <!-- Main Content Area -->
        <div id="content">

            <!-- ============================================== -->
            <!-- PAGE: HOME -->
            <!-- ============================================== -->
            <div id="home" class="page active-page">
                <img src="https://placehold.co/150x50/334155/ffffff?text=TfGM+Logo" alt="TfGM Logo" class="tfgm-logo">
                <h1>RSA Guidance Tool: Undertaking a Road Safety Audit (RSA)</h1>
                
                <div class="intro-text">
                    <p>Welcome to the RSA Guidance Tool. Please select what information you need below or use the navigation bar above to explore the detailed procedure.</p>
                </div>

                <div class="button-group">
                    <button class="main-button" onclick="showPage('advice')">Obtain Road Safety Advice</button>
                    <button class="main-button" onclick="showPage('overview')">Undertake RSA</button>
                </div>
                
                <h2>Key Definitions</h2>
                <p>Click on any of the blue, underlined <span class="term-link" onclick="filterDefinitions('Road Safety Audit (RSA)')">terms</span> to highlight their definition in the sidebar.</p>
            </div>

            <!-- ============================================== -->
            <!-- PAGE: OBTAIN ROAD SAFETY ADVICE (advice) -->
            <!-- ============================================== -->
            <div id="advice" class="page">
                <h1>Getting Advice on Road Safety</h1>
                <p class="intro-text">All design projects should undergo a Road Safety Review early in the design. The cost for this is minimal (1-2 hours of an expert's time), and ensures designers are aware of road safety issues early. This minimises potential issues and re-design. Contact the WSP road safety team to arrange this. They will ensure the team doing the reviews is appropriately qualified to advise on road safety matters.</p>
                
                <h2>Review Benefits</h2>
                <ul>
                    <li>Identify potential risks early in the design phase.</li>
                    <li>Minimize costly re-designs later in the project lifecycle.</li>
                    <li>Ensure compliance with current road safety standards.</li>
                </ul>
            </div>

            <!-- ============================================== -->
            <!-- PAGE: OVERVIEW ROAD SAFETY AUDITS (overview) -->
            <!-- ============================================== -->
            <div id="overview" class="page">
                <h1>Overview: Road Safety Audits (RSA)</h1>
                <p class="intro-text">A <span class="term-link" onclick="filterDefinitions('Road Safety Audit (RSA)')">Road Safety Audit (RSA)</span> is a formal process for ensuring new or improved roads and traffic schemes are designed and built with maximum safety for all road users, including pedestrians and cyclists.</p>
                
                <h2>Purpose of an RSA</h2>
                <p>The primary purpose is to identify potential road safety hazards that may result in personal injury. The audit is independent of the design team and mandatory for relevant projects within Greater Manchester.</p>

                <h2>RSA Documentation</h2>
                <p>The process generates two main documents:</p>
                <ol>
                    <li><strong>RSA Report:</strong> Produced by the independent RSA team, detailing identified problems and corresponding recommendations.</li>
                    <li><strong><span class="term-link" onclick="filterDefinitions('RSA Response Report')">Response Report:</span></strong> Produced by the <span class="term-link" onclick="filterDefinitions('Design Organisation')">Design Organisation</span> detailing how they will address or reject each recommendation.</li>
                </ol>
            </div>
            
            <!-- ============================================== -->
            <!-- PAGE: RESPONSIBILITIES (responsibilities) - TBC -->
            <!-- ============================================== -->
            <div id="responsibilities" class="page">
                <h1>Responsibilities (TBC)</h1>
                <p class="intro-text">This section will define the roles of the <span class="term-link" onclick="filterDefinitions('Client')">Client</span>, Design Organisation, and RSA Team throughout the audit process.</p>
                
                <h2>Who Does What?</h2>
                <p>Use the filters below to view the key responsibilities for each organisation.</p>

                <div class="filter-group">
                    <button onclick="filterTable('all')">Show All</button>
                    <button onclick="filterTable('client')">Client</button>
                    <button onclick="filterTable('designer')">Design Organisation</button>
                    <button onclick="filterTable('auditor')">RSA Team</button>
                </div>

                <table id="responsibilities-table">
                    <thead>
                        <tr>
                            <th>Responsibility</th>
                            <th>Organisation</th>
                            <th>Stage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-org="client">
                            <td>Appoint the RSA Team and manage the process.</td>
                            <td>Client</td>
                            <td>All Stages</td>
                        </tr>
                        <tr data-org="designer">
                            <td>Prepare the scheme design and provide relevant data.</td>
                            <td>Design Organisation</td>
                            <td>All Stages</td>
                        </tr>
                        <tr data-org="auditor">
                            <td>Carry out the audit and produce the RSA Report.</td>
                            <td>RSA Team</td>
                            <td>All Stages</td>
                        </tr>
                        <tr data-org="designer">
                            <td>Prepare the RSA Response Report.</td>
                            <td>Design Organisation</td>
                            <td>Stages 1-3</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- ============================================== -->
            <!-- PAGE: APPLICABILITY OF RSA (applicability) - TBC -->
            <!-- ============================================== -->
            <div id="applicability" class="page">
                <h1>Applicability of RSA (TBC)</h1>
                <p class="intro-text">Details on which projects require a full RSA and which may qualify for an exception or a simplified review.</p>
                <p>TBC: Content about thresholds and scheme types will be added here.</p>
            </div>
            
            <!-- ============================================== -->
            <!-- PAGE: RSA TEAM REQUIREMENTS (team-requirements) - TBC -->
            <!-- ============================================== -->
            <div id="team-requirements" class="page">
                <h1>RSA Team Requirements (TBC)</h1>
                <p class="intro-text">Information on the qualification, experience, and independence requirements for team members conducting the Road Safety Audit.</p>
                <p>TBC: Content about team qualifications and independence rules will be added here.</p>
            </div>
            
            <!-- ============================================== -->
            <!-- PAGE: AUDIT BRIEF (audit-brief) - TBC -->
            <!-- ============================================== -->
            <div id="audit-brief" class="page">
                <h1>Audit Brief (TBC)</h1>
                <p class="intro-text">The Audit Brief must clearly outline the project scope, the specific RSA stages required, and the documentation to be supplied by the Design Organisation.</p>
                <p>TBC: Content detailing the mandatory content of the Audit Brief will be added here.</p>
            </div>

            <!-- ============================================== -->
            <!-- PAGE: RSA STAGES (rsa-stages) - TBC -->
            <!-- ============================================== -->
            <div id="rsa-stages" class="page">
                <h1>RSA Stages (TBC)</h1>
                <p class="intro-text">The RSA process is divided into multiple stages that correspond to the lifecycle of the project. Use the filters to focus on a specific stage.</p>

                <div class="filter-group">
                    <button onclick="filterStageTable('all')">Show All Stages</button>
                    <button onclick="filterStageTable(1)">Stage 1</button>
                    <button onclick="filterStageTable(2)">Stage 2</button>
                    <button onclick="filterStageTable(3)">Stage 3</button>
                    <button onclick="filterStageTable(4)">Stage 4</button>
                </div>

                <table id="stages-table">
                    <thead>
                        <tr>
                            <th>Stage</th>
                            <th>Description</th>
                            <th>Timing</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-stage="1">
                            <td><span class="term-link" onclick="filterDefinitions('RSA Stage 1')">Stage 1</span></td>
                            <td>Preliminary Design: Audit of the design proposal.</td>
                            <td>Before completion of preliminary design.</td>
                        </tr>
                        <tr data-stage="2">
                            <td>Stage 2</td>
                            <td>Detailed Design: Audit of the full working drawings and specifications.</td>
                            <td>Before construction contract award.</td>
                        </tr>
                        <tr data-stage="3">
                            <td>Stage 3</td>
                            <td>Completion of Construction: Audit of the scheme upon completion, before opening to traffic.</td>
                            <td>Before road opening.</td>
                        </tr>
                        <tr data-stage="4">
                            <td><span class="term-link" onclick="filterDefinitions('RSA Stage 4')">Stage 4</span></td>
                            <td>Monitoring: Audit carried out after 12 months of operation.</td>
                            <td>12 months after the scheme is operational.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- ============================================== -->
            <!-- PAGE: RESPONSE REPORT (response-report) - TBC -->
            <!-- ============================================== -->
            <div id="response-report" class="page">
                <h1>Response Report (TBC)</h1>
                <p class="intro-text">The <span class="term-link" onclick="filterDefinitions('RSA Response Report')">Response Report</span> must be completed by the <span class="term-link" onclick="filterDefinitions('Design Organisation')">Design Organisation</span> for Stages 1, 2, and 3.</p>
                
                <h2>Key Requirements</h2>
                <ul class="checklist-list">
                    <li><label><input type="checkbox">Must be submitted to the Client within 4 weeks of receiving the RSA Report.</label></li>
                    <li><label><input type="checkbox">Must detail the decision on every single RSA recommendation.</label></li>
                    <li><label><input type="checkbox">Must contain a decision log documenting acceptance, rejection, or proposal of an alternative solution.</label></li>
                </ul>
            </div>
            
            <!-- ============================================== -->
            <!-- PAGE: RSA CHECKLIST (rsa-checklist) - TBC -->
            <!-- ============================================== -->
            <div id="rsa-checklist" class="page">
                <h1>RSA Checklist (TBC)</h1>
                <p class="intro-text">A summary of the key checks to be performed at various RSA stages.</p>
                <p>TBC: Specific checklist items will be added here.</p>
            </div>
            
            <!-- ============================================== -->
            <!-- PAGE: DOWNLOADS (downloads) - TBC -->
            <!-- ============================================== -->
            <div id="downloads" class="page">
                <h1>Downloads</h1>
                <p class="intro-text">Download the official templates and forms required for the Road Safety Audit process in Greater Manchester.</p>
                
                <div class="button-group">
                    <button class="download-button" onclick="downloadFile('RSA Exceptions Form')">RSA Exceptions Form</button>
                    <button class="download-button" onclick="downloadFile('RSA Audit Template')">RSA Audit Template</button>
                    <button class="download-button" onclick="downloadFile('RSA Response Report Template')">RSA Response Report Template</button>
                </div>
            </div>

        </div> <!-- End of #content -->

        <!-- Definitions Sidebar -->
        <div id="definitions-sidebar">
            <h3>Key Definitions</h3>
            <input type="search" id="definition-search" oninput="filterDefinitions()" placeholder="Search definitions...">
            <div id="definitions-list">
                <!-- Definitions will be rendered here by script.js -->
            </div>
        </div>
        
    </div> <!-- End of .main-container -->

    <!-- Link to the separate JS file -->
    <script src="script.js"></script>
</body>
</html>
